# 计分助手微信小程序

一个使用 uniapp 开发的多人游戏计分小程序，支持多人协作计分，让游戏更加有趣！

## 功能特性

### 🏠 首页
- **开始计分 - 多人模式**：创建房间，邀请朋友一起计分
- **开始计分 - 单人模式**：房主计分，适合单人记录
- **扫码加入房间**：扫描二维码快速加入游戏
- **小程序二维码**：分享小程序给朋友

### 📊 历史记录
- **全部/胜/负** 三个tab分类查看
- 展示历史对局的积分快照
- 显示每场游戏的详细信息
- 支持分页加载和下拉刷新

### 👤 我的页面
- **微信授权登录**：获取微信用户信息自动登录
- **资料编辑**：修改昵称和头像
- **游戏统计**：总场次、胜利数、胜率、总积分
- **相册选择**：支持从相册选择头像或拍照

### 🎮 房间功能
- **实时计分表格**：显示玩家、得分、操作
- **给分功能**：玩家之间互相给分
- **快速计分**：预设常用分数快速选择
- **给分详情**：查看每次给分的详细记录
- **房间邀请**：生成邀请码或二维码分享
- **游戏结算**：房主可结算房间，自动保存历史

## 技术栈

- **框架**：uniapp
- **开发语言**：Vue.js + JavaScript
- **样式**：CSS3 + rpx 响应式单位
- **存储**：微信小程序本地存储

## 项目结构

```
src/
├── pages/
│   ├── index/           # 首页
│   ├── history/         # 历史记录页
│   ├── profile/         # 个人中心
│   │   ├── profile.vue  # 我的页面
│   │   └── edit.vue     # 编辑资料页
│   └── room/            # 房间相关
│       ├── room.vue     # 房间页面
│       └── detail.vue   # 给分详情页
├── static/              # 静态资源
├── pages.json          # 页面配置
├── manifest.json       # 应用配置
└── App.vue            # 应用入口
```

## 安装和运行

1. **克隆项目**
```bash
git clone [项目地址]
cd wechat-mini-program
```

2. **安装依赖**
```bash
npm install
# 或
yarn install
```

3. **开发调试**
```bash
npm run dev:mp-weixin
# 或
yarn dev:mp-weixin
```

4. **打开微信开发者工具**
- 选择项目类型：小程序
- 项目目录：选择 `dist/dev/mp-weixin` 目录
- AppID：输入你的微信小程序 AppID

## 使用说明

### 快速开始

1. **首次使用**
   - 打开小程序
   - 点击"我的"页面进行微信授权登录
   - 完善个人资料（可选）

2. **创建房间**
   - 返回首页，点击"开始计分 - 多人模式"
   - 系统自动生成房间并显示邀请码
   - 分享房间号给朋友，让他们加入

3. **加入房间**
   - 朋友可以点击"扫码加入房间"扫描二维码
   - 或直接输入房间号加入

4. **开始游戏**
   - 房主点击"开始游戏"
   - 玩家之间可以互相给分
   - 查看"给分详情"了解每次计分记录

5. **结算游戏**
   - 房主点击"结算房间"
   - 游戏结果自动保存到历史记录

### 功能详解

#### 给分操作
- 点击其他玩家的"给分"按钮
- 输入分数（正数加分，负数扣分）
- 可使用快速按钮选择常用分数
- 确认后分数实时更新

#### 历史记录
- 自动记录每场游戏的详细信息
- 按胜负分类查看历史
- 支持无限滚动加载更多记录

#### 个人资料
- 支持修改昵称（最多20个字符）
- 支持从相册选择头像或拍照
- 实时预览修改效果

## 开发说明

### 数据存储
项目使用微信小程序的本地存储功能：
- `userInfo`：用户信息
- `gameHistory`：游戏历史记录
- `pendingRoomId`：待加入的房间ID

### 主要组件

#### 首页 (index.vue)
- 四个功能按钮的入口
- 登录状态检查
- 房间创建逻辑

#### 房间页面 (room.vue)
- 实时计分表格
- 给分功能实现
- 房间管理（开始/结算）

#### 历史记录 (history.vue)
- 分页加载历史数据
- 胜负统计和筛选
- 记录详情展示

## 注意事项

1. **真实部署前需要**：
   - 申请微信小程序账号
   - 配置服务器域名
   - 实现真实的后端API
   - 添加真实的图片资源

2. **当前版本限制**：
   - 数据仅存储在本地，卸载小程序后数据丢失
   - 房间功能为模拟实现，无法真正多人实时同步
   - 分享功能需要配置真实的分享接口

3. **扩展建议**：
   - 接入真实的后端服务
   - 添加 WebSocket 实现实时同步
   - 增加更多游戏模式
   - 添加好友系统
   - 实现云端数据备份

## 许可证

MIT License

## 贡献

欢迎提交 Issue 和 Pull Request！
