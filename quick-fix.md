# 云开发环境问题快速修复

## 问题现状
- 错误：`env check invalid be filterd`
- 原因：云开发环境 `cloud1` 配置无效

## 解决方案

### 方案A：获取正确的环境ID（推荐）

1. **打开微信开发者工具**
2. **点击顶部工具栏的"云开发"按钮**
3. **如果未开通云开发**：
   - 点击"开通"
   - 选择"基础版1"（免费）
   - 环境名称填写：`score-helper`
   - 开通成功后记录环境ID

4. **如果已开通云开发**：
   - 查看控制台显示的环境ID
   - 复制完整的环境ID（如：`score-helper-2g8h4k1l`）

5. **修改项目配置**：

### 需要修改的文件：

#### 1. src/main.js
```javascript
// 将 env: 'cloud1' 改为你的实际环境ID
wx.cloud.init({
  env: 'your-actual-env-id', // 替换为实际的环境ID
  traceUser: true
})
```

#### 2. src/manifest.json
```json
"mp-weixin": {
  "appid": "wx42eafaf1f4f8176a",
  "setting": {
    "urlCheck": false
  },
  "usingComponents": true,
  "cloudfunctionRoot": "cloudfunctions/",
  "cloudfunctionTemplate": {
    "env": "your-actual-env-id"  // 替换为实际的环境ID
  }
}
```

### 方案B：使用离线模式（临时方案）

如果暂时无法配置云开发，现在的代码已经支持离线模式：

1. **功能说明**：
   - 自动检测云开发是否可用
   - 云开发失败时自动降级到本地存储
   - 保证基本功能正常使用

2. **离线模式限制**：
   - 无法真正的多人实时协作
   - 数据仅保存在本地
   - 房间功能为模拟实现

3. **使用方法**：
   - 无需修改任何代码
   - 直接使用即可
   - 控制台会显示"云开发初始化失败"但不影响使用

### 验证方法

重新编译项目后：
```bash
npm run dev:mp-weixin
```

1. **成功配置云开发**：控制台显示"云开发初始化成功"
2. **使用离线模式**：控制台显示"云开发初始化失败"，但功能正常

### 推荐操作顺序

1. **立即可用**：当前版本已支持离线模式，可直接使用
2. **后续配置**：按方案A获取正确环境ID并修改配置
3. **开通云开发**：创建数据库集合，享受完整功能

### 环境ID示例

正确的环境ID格式：
- `score-helper-2g8h4k1l`
- `myenv-abc123def`
- `cloud1-xyz789uvw`

错误的环境ID格式：
- `cloud1`（太简单，不是完整ID）
- `env-123`（格式不对）

## 总结

现在您可以：
1. **立即使用**：项目已支持离线模式
2. **稍后升级**：配置云开发环境享受完整功能
3. **正常开发**：不影响其他功能的开发和测试 